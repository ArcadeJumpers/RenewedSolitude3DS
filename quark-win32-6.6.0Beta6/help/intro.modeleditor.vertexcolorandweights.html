<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
  <title>Vertex Coloring and Weights</title>
  <meta name="Description" content="QuArK Information Database - Page: 1.6.12.&nbsp;Vertex Coloring and Weights">
  <meta name="Keywords" content="QuArK InfoBase Quake Army Knife QRK QKM Python PY Map Editor Hexen Heretic Half-Life Sin Kingpin Soldier-of-Fortune Star-Trek-Voyager Elite-Force">
  <link rel=stylesheet href="standard.css" type="text/css">
</head>

<body>
<a name="__top__"></a>
<table width="100%" border=0 cellspacing=0>
  <tr>
    <td width=213>
      <a target="_blank" href="http://quark.sourceforge.net/"><img src="quarkicon.png" width=213 height=90 border=0 alt="Go to QuArK Web Site"></a>
    </td>
    <td width="70%" align=center>
      <div class="topheadline">Vertex Coloring and Weights</div>
      <div class="sm">Updated&nbsp;27 Jul 2009</div>
    </td>
    <td width="30%" valign=bottom nowrap>
      Upper&nbsp;levels:<br>-&nbsp;<a href="index.html">QuArK&nbsp;Information&nbsp;Base</a><br>-&nbsp;<a href="intro.html">1.&nbsp;Introduction&nbsp;to&nbsp;QuArK</a><br>-&nbsp;<a href="intro.modeleditor.html">1.6.&nbsp;Model-editor&nbsp;in&nbsp;QuArK</a><br>
    </td>
  </tr>
</table>
<table width="100%" border=0 cellspacing=0>
  <tr class="headline">
    <td width="99%">
      <p class="headline">&nbsp;1.6.12.&nbsp;Vertex Coloring and Weights</p>
    </td>
    <td width="1%" align=right nowrap>
      &nbsp;[&nbsp;<span class="navenable"><a href="intro.modeleditor.editelements.html">Prev</a></span>&nbsp;-&nbsp;<span class="navenable"><a href="intro.modeleditor.html">Up</a></span>&nbsp;-&nbsp;<span class="navenable"><a href="intro.modeleditor.exportmodelformats.html">Next</a></span>&nbsp;]&nbsp;
    </td>
  </tr>
</table>
<table border=0 width="100%" cellspacing=10><tr><td><p>Some model formats use additional, more advanced, special display and movement systems.<br>
These are <a href="glossary.html#v">Vertex Coloring</a>, using different colors to give special lighting effects to a model,<br>
and\or <a href="glossary.html#v">Vertex Weights</a>, which is done by a numerical setting from 0 to 1.0 to give a more natural movement to a model's animation.</p>
</td></tr></table>
<br>

<table width="100%" border=0 cellspacing=0>
  <tr class="headline">
    <td width="100%">
      <p class="subheadline">&nbsp;Index</p>
    </td>
  </tr>
</table>
<ul class="index">
  <li>- <a href="#vertexcoloring">Vertex Coloring</a>&nbsp;<span class="added">(27 Jul 2009)</span>
  <li>- <a href="#vertexweights">Vertex Weights</a>&nbsp;<span class="added">(27 Jul 2009)</span>
</ul>
<br>


<a name="vertexcoloring"></a>
  <table width="100%" border=0 cellspacing=0>
    <tr class="headline">
      <td>
        <p class="item">&nbsp;Vertex Coloring</p>
      </td>
      <td align=right>
        <font size=-2>cdunde&nbsp;-&nbsp;27 Jul 2009</font>
      </td>
      <td width="1%" align=right nowrap>
        &nbsp;&nbsp;[&nbsp;<a href="#__top__">Top</a>&nbsp;]&nbsp;
      </td>
    </tr>
  </table>
  <table border=0 width="100%" cellspacing=10><tr><td>
<p><img border=1 align=right src="intro.modeleditor.vertexcolorandweights.vertexcoloring2.png">
<img border=1 align=right src="intro.modeleditor.vertexcolorandweights.vertexcoloring1.png">
<a href="glossary.html#v">Vertex Coloring</a> uses actual colors to give a model different lighting effects.
These colors are applied directly to the models mesh vertexes as demonstrated in the first screen shot to the right.
</p><p>When the proper graphics displaying is used those vertex colors are spread between each other, from vertex to vertex,
of the models mesh triangles to give a hew effect of the colors as shown in the second screen shot to the right.
Unfortunately, at this time, QuArK's Model Editor does not have that graphics displaying capabilities.
</p><p>When the model is used in the proper game engine, this hewing will effect various lighting features of that
game engine and produce the desired results.
</p><p>QuArK's Model Editor does however supports the color selection, changing, application and removal of the
Vertex Coloring system for those kinds of models and game engines.
</p><p>The functions that handle Vertex Coloring are located on the
<a href="intro.modeleditor.dataforms.html#specsargsview">frame Specifics/ Args</a> page
and is accessible by selecting a single frame or the <a href="glossary.html#f">Frames folder</a> of a model component and nothing else.
</p><p><img border=1 align=right src="intro.modeleditor.vertexcolorandweights.vertexcoloring3.png">
</p><p><a href="glossary.html#<"><i><b><u>UV Vertex Colors</u></b></i></a>&nbsp;:<br>
To the right we show a screen shot of that portion of the
<a href="intro.modeleditor.dataforms.html#specsargsview">frame Specifics/ Args</a> page that deals with Vertex Coloring.<br>
To be valid, all vertexes must have a color applied to them or the model will not be accepted by the game engine.
</p><p><u><i>vertex color </i>&nbsp;</u>&nbsp;: This specific has two lines and methods to select the color you wish to use.<br>
The first line displays the actual three <a href="glossary.html#r">RGB</a> values of the color. Each one ranges from 0 to 1.0 and can be hand entered.<br>
The second line displays the actual color on the <a href="glossary.html#c">color selector button</a>. By clicking on that button a
<a href="glossary.html#c">Color Selector window</a> will appear that you can visually pick a color from. This will also change
its <a href="glossary.html#r">RGB</a> values in the line above.
</p><p><u><i>show vertex color </i>&nbsp;</u>&nbsp;: When this is checked and if the model has Vertex Coloring,
those colors will be displayed, If not the default colors of a vertex will be drawn.
</p><p><u><i>apply color </i>&nbsp;</u>&nbsp;: Once you have selected some vertexes by doing a <a href="glossary.html#l">LMB</a> drag
click the gray <a href="glossary.html#a">apply color</a> button to give the above chosen color to those vertexes.
</p><p><u><i>remove color </i>&nbsp;</u>&nbsp;: Once you have selected some vertexes by doing a <a href="glossary.html#l">LMB</a> drag
click the gray <a href="glossary.html#r">remove color</a> button to remove all vertex coloring from those vertexes.</p>
  </td></tr></table>
  <br>

<a name="vertexweights"></a>
  <table width="100%" border=0 cellspacing=0>
    <tr class="headline">
      <td>
        <p class="item">&nbsp;Vertex Weights</p>
      </td>
      <td align=right>
        <font size=-2>cdunde&nbsp;-&nbsp;27 Jul 2009</font>
      </td>
      <td width="1%" align=right nowrap>
        &nbsp;&nbsp;[&nbsp;<a href="#__top__">Top</a>&nbsp;]&nbsp;
      </td>
    </tr>
  </table>
  <table border=0 width="100%" cellspacing=10><tr><td>
<p><a href="glossary.html#v">Vertex Weights</a> are numerical settings from 0 to 1.0 to give a more natural movement to a model's animation.
These values are applied directly to the models mesh vertexes as demonstrated in the screen shot to the far right below.
Each value setting has its own distinct color for visualization display and easy identification.
This system is used in conjunction with the <a href="intro.modeleditor.editelements.html#bones">Bones</a>
system and a single vertex can be shared by two or more bones. Multiple component vertexes can also be assigned to bones.
</p><p>All vertexes have a default value of 1.0 when they are assigned to a single bone. When they are shared between
bones they <b>MUST</b> have a total value that adds up to 1.0. We will cover on how to accomplish this a little later.
But first, let's go over on how to select, apply and set the <b><a href="glossary.html#v">Vertex Weight Colors</a></b>.
</p><p>Before using this system you need to assigned some vertexes to a bone. This is done by clicking on a single bone
and selecting a component's frame. Then do a <a href="glossary.html#l">LMB</a> drag in one of the editor's views to select the vertexes.
Then do a <a href="glossary.html#r">RMB</a> click over the center of the bone to get the
<a href="intro.modeleditor.rmbmenus.html#bonecommands">Bones Commands Menu</a> and select
<a href="intro.modeleditor.rmbmenus.html#bonecommands">Assign \ Release Vertices</a>.
<img border=1 align=right src="intro.modeleditor.vertexcolorandweights.vertexweights1.png">
</p><p>Once the vertexes are assigned you need to get into the <a href="glossary.html#v">Vertex Weight Colors</a> mode.
This is done by clicking on the icon button that looks like a <a href="glossary.html#p">Paint Brush</a> near the top of the
<a href="intro.modeleditor.editelements.html#specificsettings">Bones Specifics/ Args</a> page.
To get out of the mode just click it again.
</p><p>You are now ready to select and assign weight values to some vertexes. This is done in one of two ways.<br>
<b>The first way</b> is to do a <a href="glossary.html#l">LMB</a> drag over a single or group of vertexes. Their color will change when you let go
of those buttons.<br>
<b>The second way</b> is to hold down your left and middle mouse buttons and <a href="glossary.html#p">Paint</a> over each vertex
changing its color as you go.<br>
If you had clicked the <a href="glossary.html#p">Paint Brush</a> before assigning the vertexes, all of them would also receive that bone's weight setting.
</p><p>The settings for a particular bone are done on the
<a href="intro.modeleditor.editelements.html#specificsettings">Bones Specifics/ Args</a> page,
as shown below, in the bottom two sections. This page is displayed when a single bone and frame, or multiple
frames are selected.
<img border=1 align=right src="intro.modeleditor.vertexcolorandweights.vertexweights2.png">
</p><p>The first set of these settings are also located on the
<a href="intro.modeleditor.dataforms.html#specsargsview">frame Specifics/ Args</a>
page for easer access when a single or multiple frames are selected.
</p><p><u><i>use weight bone sel </i>&nbsp;</u>&nbsp;: When checked, it puts bone selection into a special mode allowing you to
add or remove bones to the selection without having to use the 'Ctrl' key.
</p><p><u><i>show_weight_color </i>&nbsp;</u>&nbsp;: When checked, if component has vertex weight coloring they will show.
If NOT checked and it has bones with vetexes, those will show.
</p><p><u><i>apply_vtx_weights </i>&nbsp;</u>&nbsp;: When checked, applies all bone weight settings for any currently or
additional selected vertexes using the linear handle or applied by the paint brush.
</p><p>The second set of settings apply to the actual weight value for that particular bone and the selected component.
</p><p><u><i>(bone name) weight (value) </i>&nbsp;</u>&nbsp;: Set this vertex's weight here.
Total values for this vertex MUST = 1.0.
</p><p><u><i>(bone name) weight (color) </i>&nbsp;</u>&nbsp;: Color used for this component's vertex weight color mapping.
You can not change this color, use button above.
</p><p>After the above process, changing the bone's <a href="glossary.html#w">weight</a> value and doing another <a href="glossary.html#l">LMB</a> drag or <a href="glossary.html#p">Painting</a>
of just some of those vertexes will change the value and color for them alone. Or for individual vertexes you can
use the <a href="glossary.html#v">Vertex Weights Dialog</a> shown below.
</p><p><a href="glossary.html#<"><i><b><u>Vertex Weights Dialog</u></b></i></a>&nbsp;:<br>
Now that the weights have been assigned, you can view them by clicking the icon button to the right of the
<a href="glossary.html#p">Paint Brush</a> icon button to bring up the <a href="glossary.html#v">Vertex Weights Dialog</a> shown below.
I have clipped it short in this screen shot to save space, but it will display up to ten vertex\bone assignments
at a time, giving a vertex's weight value for each bone it is assigned to.
<img border=1 align=right src="intro.modeleditor.vertexcolorandweights.vertexweights3.png">
</p><p>At the very top of this dialog is the name of the <a href="glossary.html#c">Component:</a> that is currently selected and that these vertexes
belong to.
</p><p>At both the top and bottom of the dialog is the <a href="glossary.html#v">Vertex weights page</a> which is a dropdown list, click the
down arrow. This list gives the page number, the first vertex shown on the page and the last vertex shown on the page.
</p><p>In between are the listings for each vertex which displays the <a href="glossary.html#v">Vtx \ Bone:</a>, vertex number and bone name
and <a href="glossary.html#w">Weight value:</a> for that bone. You will notice that each <a href="glossary.html#v">vertex section's</a> values add up to 1.0,
as stated in the above section, that they must do to be valid.
</p><p>To the right of each <a href="glossary.html#w">Weight value:</a> is an <a href="glossary.html#a">arrow button</a> which can be used to increase or decrease these
values or you can enter a value by hand. However, it will not change the other values for that vertex, so that
will need to be done by the user to add up to 1.0 as before.
</p><p>Near the bottom of the dialog are a few more button features.
</p><p><u><i>select vertexes </i>&nbsp;</u>&nbsp;: If a bone is selected only its weighted vertexes will be selected.
If not, all weighted vertexes will be selected. This applies for each individual page.
</p><p><u><i>update dialog </i>&nbsp;</u>&nbsp;: When more vertexes are assigned between bones,
or other actions take place that would effect these items, this dialog will update automatically.
Or you can click this button to update it any time you wish.
</p><p><u><i>apply changes </i>&nbsp;</u>&nbsp;: At any time, you can click this button to ensure that settings made thus far are saved.
This will also place them on the <a href="intro.modeleditor.menu.html#editmenu">undo</a>
list for easy interval reversal. If you wish to save all changes as they are made check the option <a href="glossary.html#a">auto apply changes</a> on the
<a href="intro.modeleditor.editelements.html#specificsettings">Bones Specifics/ Args</a> page.
After an <a href="intro.modeleditor.menu.html#editmenu">undo</a>
you MUST click the <a href="glossary.html#u">update dialog</a> button to reload the old settings.
</p><p><u><i>auto save </i>&nbsp;</u>&nbsp;: When checked, all displayed settings will be saved when ever this dialog is closed or switches components only.
To constantly save changes, once they are made, check the <a href="glossary.html#a">auto apply changes</a> option on the
<a href="intro.modeleditor.editelements.html#specificsettings">Bones Specifics/ Args</a> page.
</p><p><u><i>(the) X (close dialog) </i>&nbsp;</u>&nbsp;: Will simply close the dialog without making any changes or saves.
</p>
  </td></tr></table>
  <br>

<br>

<table width="100%" border=0 cellspacing=0>
  <tr class="headline">
    <td width="99%" align=center>
      <p class="sm">
        Copyright (c) 2009, GNU General Public License by The QuArK (Quake Army Knife) Community - <a target="_blank" href="http://quark.sourceforge.net/">http://quark.sourceforge.net/</a><br>
      </p>
    </td>
    <td width="1%" align=right nowrap>
      &nbsp;[&nbsp;<span class="navenable"><a href="intro.modeleditor.editelements.html">Prev</a></span>&nbsp;-&nbsp;<a href="#__top__">Top</a>&nbsp;-&nbsp;<span class="navenable"><a href="intro.modeleditor.exportmodelformats.html">Next</a></span>&nbsp;]&nbsp;
    </td>
  </tr>
</table>
</body>
</html>